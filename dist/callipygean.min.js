/*jslint nomen:true, browser: true, white: true*//*global exports*//*!
 * callipygean
 * https://github.com/Couto/callipygean
 *
 * Copyright (c) 2012 Couto
 * Licensed under the MIT license.
 */(function(e){"use strict";function r(e){this.syntax=n[e.syntax],this.collapsed=e.collapsed||!1;if(!t.is.object(this.syntax))throw Error("Please pick a valid syntax. Possible values are: "+Object.keys(n).join(", "))}var t={$:function(e){return document.querySelectorAll(e)},$$:function(e,t){var n=document.createElement(e),r;t&&t.html&&(n.innerHTML=t.html,delete t.html);for(r in t)t.hasOwnProperty(r)&&n.setAttribute(r,t[r]);return n},is:{_toString:function(e){return Object.prototype.toString.call(e)},object:function(e){return e&&this._toString(e)==="[object Object]"&&!this.falsy(e.isPrototypeOf)},array:function(e){return this._toString(e)==="[object Array]"},string:function(e){return this._toString(e)==="[object String]"},number:function(e){return this._toString(e)==="[object Number]"},falsy:function(e){return e===undefined||e===null||this.number(e)&&e!==+e||!e},punctuation:function(e){return this.string(e)&&/[{}\[\];(),.:]/g.test(e)},"boolean":function(e){return e===!0||e===!1||this._toString(e)==="[object Boolean]"},regex:function(e){return this._toString(e)==="[object RegExp]"},regexStr:function(e){return/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g.test(e)},fun:function(e){return this._toString(e)==="[object Function]"}}},n={PrismJS:{tokenClass:"token",comment:"comment",string:"string",regex:"regex",keyword:"keyword","boolean":"boolean",number:"number",operator:"operator",ignore:null,punctuation:"punctuation"},Prettify:{string:"str",keyword:"kwd",comment:"com",type:"typ",literal:"lit",punctuation:"pun",plain:"pln",tag:"tag",declaration:"dec",source:"src",attribute_name:"atn",attribute_value:"atv",nocode:"nocode"}};r.prototype={constructor:r,convert:function(e,n){var r,i=this.syntax.tokenClass;return n&&t.is.fun(n)?this.convertAsync(e,n):(r=t.$$("ul",{"class":i+" expandable object"}),function s(e,n,r){var o,u,a,f;for(o in e)e.hasOwnProperty(o)&&(u=t.$$("li"),f=r.type(e[o]),t.is.object(e[o])?(a=t.$$("ul",{"class":i+" expandable object"}),s(e[o],a,r),u.appendChild(a)):(u.appendChild(t.$$("span",{html:o,"class":i+" string attr"})),u.appendChild(t.$$("span",{html:e[o],"class":i+" "+f}))),n.appendChild(u))}(e,r,this),r)},convertAsync:function(){},type:function(e){var n=typeof e;if(n==="object"){if(t.is.array(e))return"array";if(t.is.regex(e))return"regex"}return n==="string"&&t.is.regexStr(e)?"regex":n}},e.callipygean=function(e){return new r(e)}})(typeof exports=="object"&&exports||this);